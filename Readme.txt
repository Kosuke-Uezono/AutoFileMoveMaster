# ファイル自動振り分けアプリ 「AutoFileMoveMaster」 ユーザーマニュアル

## 1. はじめに
このアプリは、指定したコピー元フォルダの内容を、指定したコピー先フォルダへ自動的にコピーするツールです。  
さらに、ファイル名やフォルダ名の置換、コピー完了後の元データ削除、指定日時までの待機機能、実行結果のログ出力など、さまざまな機能が搭載されています。

## 2. アプリの準備
### 2.1 必要なファイル
アプリを実行する前に、以下のファイルを用意してください。

- **実行ファイル**  
  例：`AutoFileMoveMaster.exe`（コンパイル済みの実行ファイル）
  
- **history.txt**  
  アプリが処理するタスクの情報を記述するファイルです。  
  各行は以下の形式で記入します。  
  ```
  コピー元フォルダ, コピー先フォルダ, 置換前文字列, 置換後文字列, オプション
  ```  
  - **コピー元フォルダ**：コピーする元のフォルダのパス  
  - **コピー先フォルダ**：コピー先のフォルダのパス  
  - **置換前文字列**：ファイル名またはフォルダ名で置換対象とする文字列  
  - **置換後文字列**：上記文字列を置換後にする文字列  
  - **オプション**：  
    - `"d"` と指定すると、コピー元フォルダ直下のフォルダ名に対してのみ置換を実施します。  
    - 何も指定しない場合は、ファイル名に対して置換を実施します。

- **schedule.txt**  
  アプリの実行開始を遅延させたい場合に使用します。  
  ファイル内に `"YYYY-MM-DD HH:MM:SS"` の形式で日時を記入してください。  
  例：  
  ```
  2023-08-15 14:30:00
  ```
  この日時までアプリは待機し、残り時間をリアルタイムに表示します。

- **log.txt**  
  アプリの実行結果（開始時刻、終了時刻、各コピータスクの結果など）が自動的に記録されます。  
  このファイルはアプリが実行中に自動生成されます。

### 2.2 インストール
1. 用意したファイルを任意のフォルダに配置してください。  
2. 必要に応じて、ショートカットを作成してデスクトップなどから起動できるようにします。

## 3. アプリの実行方法
1. **アプリの起動**  
   実行ファイル（例：`AutoFileMoveMaster.exe`）をダブルクリックして起動します。  
   ※ コンソールウィンドウが表示されます。

2. **初期設定の入力**  
   アプリ起動後、以下のようなプロンプトが表示されます。
   - 「コピー完了後にコピー元のフォルダ/ファイルを削除しますか？ (Y/N):」  
     → コピーが完了した後、元のファイルやフォルダを削除する場合は Y を、保持する場合は N を入力してください。
   - 「すべてのタスクを一斉に開始しますか？ (Y: 一斉実行 / N: 個別確認):」  
     → すべてのタスクを一括で実行する場合は Y を、個別に実行する場合は N を入力してください。

3. **スケジュール待機**  
   - 次に、`schedule.txt` に記述された日時まで、残り時間（○日 ○時間 ○分 ○秒）がリアルタイムに表示されます。  
   - 指定時刻に達すると、コピー処理が自動的に開始されます。

4. **コピー処理の実行**  
   - タスクが一斉に開始される場合、各タスクが並列に実行され、進捗状況が表示されます。  
   - 個別実行の場合は、各タスクごとに実行の確認が行われ、選択したタスクのみが実行されます。

5. **ログの確認**  
   - 実行中および実行後、`log.txt` に各タスクの開始時刻、終了時刻、コピー結果などが記録されます。  
   - このログファイルを参照することで、処理の詳細を確認できます。

## 4. 注意点
- **history.txt の記述ミス**  
  記述形式に誤りがあると、正しくタスクが読み込まれない場合があります。  
  必ず「,（コンマ）」で区切って記述してください。
- **スケジュール機能**  
  `schedule.txt` に有効な日時が記載されていない場合、待機処理はスキップされ、すぐにタスクが実行されます。
- **ログファイル**  
  `log.txt` は実行結果を記録するため、定期的に内容を確認・保存することをおすすめします。

## 5. トラブルシューティング
- **ファイルやフォルダが正しくコピーされない場合**  
  - history.txt のパスが正しいか確認してください。  
  - コピー先のディスク容量が十分か確認してください。
- **待機処理が正しく動作しない場合**  
  - schedule.txt の日時フォーマット（YYYY-MM-DD HH:MM:SS）が正しいか確認してください。
- **ログが出力されない場合**  
  - log.txt の書き込み権限があるか確認してください。

## 6. サポート
本アプリの使用方法についてご不明な点がある場合、または不具合を発見した場合は、担当エンジニアまでご連絡ください。

---

このマニュアルは、エンジニア以外の方でもアプリを直感的に使っていただけるように記載しています。  
内容の修正や追加が必要な場合は、遠慮なくご相談ください。